FROM ubuntu:22.04

ENV DEBIAN_FRONTEND noninteractive

# ubuntu setup
RUN apt-get update -y
RUN apt-get upgrade -y 

RUN apt-get install -y software-properties-common
RUN apt-get update

RUN apt-get install -y language-pack-en python3  python3-django  python3-pip libpq-dev python3-dev


ENV DEBIAN_FRONTEND teletype

# setup working directory
WORKDIR /var/www/html

COPY ./requirements.txt /var/www/html/requirements.txt
RUN pip3 install -r requirements.txt


COPY . /var/www/html

RUN python3 manage.py migrate